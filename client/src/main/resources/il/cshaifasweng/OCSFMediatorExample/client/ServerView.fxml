<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.control.Tab?>
<?import javafx.scene.control.TabPane?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.TextArea?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.control.PasswordField?>
<?import javafx.scene.control.Button?>

<?import javafx.scene.control.SplitPane?>
<BorderPane xmlns:fx="http://javafx.com/fxml" >
    <!-- Main header -->
    <top>
        <Label text="Server Management Console" style="-fx-font-size: 24px; -fx-font-weight: bold; -fx-padding: 10px;"/>
    </top>

    <!-- Main content area split into tabs -->
    <center>
        <TabPane fx:id="tabPane" tabClosingPolicy="UNAVAILABLE">

            <!-- Logs tab -->
            <Tab text="Logs">
                <BorderPane>
                    <center>
                        <TextArea fx:id="logArea" editable="false" wrapText="true" style="-fx-font-family: monospace; -fx-padding: 10px;" />
                    </center>
                </BorderPane>
            </Tab>

            <!-- Connected Clients tab -->
            <Tab text="Connected Clients">
                <SplitPane orientation="HORIZONTAL">
                    <!-- Table with clients -->
                    <TableView fx:id="clientsTable" style="-fx-padding: 10px;">
                        <columns>
                            <TableColumn fx:id="clientColumn" text="Client ID" prefWidth="150"/>
                            <TableColumn fx:id="profileColumn" text="Profile" prefWidth="150"/>
                        </columns>
                    </TableView>
                    <!-- Display for messages between the client and server -->
                    <TextArea fx:id="clientMessagesArea" editable="false" wrapText="true" style="-fx-font-family: monospace; -fx-padding: 10px;" />
                </SplitPane>
            </Tab>

        </TabPane>
    </center>

    <!-- Buttons at the bottom -->
    <bottom>
        <VBox spacing="10" alignment="center" style="-fx-padding: 10px;">
            <HBox spacing="10" alignment="center">
                <Label text="DB Password:" style="-fx-font-size: 14px;" />
                <PasswordField fx:id="passwordField" promptText="Enter DB Password" />
                <Button fx:id="btnConnectDB" text="Connect to Database" onAction="#connectToDB" style="-fx-font-size: 14px;" />
            </HBox>
            <HBox spacing="10" alignment="center">
                <Button fx:id="btnDefaultPassword" text="Use Default Password" onAction="#useDefaultPassword" style="-fx-font-size: 14px;" />
                <Button fx:id="btnStartServer" text="Start Server" onAction="#startServer" style="-fx-font-size: 14px;" />
            </HBox>
        </VBox>
    </bottom>
</BorderPane>
